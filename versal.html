<!DOCTYPE html>
<html>
<head>
<title>Empty gadget</title>
<link type="text/css" rel="stylesheet" href="versal.css"></link>
<script src="bower_components/versal-component-runtime/dist/runtime.min.js"></script>
<link rel="import" href="bower_components/versal-gadget-api/versal-gadget-api.html">
</head>

<body>

  Author: <input type="text" name="author" value="-"><br>
  MinRowCols: <input type="text" name="minRowCols" value="4"> <input type="text" name="minRowColsMin" value="1"><br>
  MaxRowCols: <input type="text" name="maxRowCols" value="6"><br>
  Recursion: <input type="text" name="recursionChance" value="0.2"><br>
  RecursionDepreciationRate: <input type="text" name="recursionDepreciationRate" value="0.05"><br>
  StyleChance: <input type="text" name="styleChance" value="0.3"><br>
  <button name="redraw">Redraw</button>
<div class="frame"></div>


<script src="bower_components/jquery/dist/jquery.min.js"></script>

<script>
var player = new VersalPlayerAPI();

var minRowColsMin = $('input[name="minRowColsMin"]');

minRowColsMin.on('blur', function(){
  player.setAttributes({
    minRowColsMin: minRowColsMin.val()
  });
});

player.on('attributesChanged', function(attrs){
 if(attrs && attrs.minRowColsMin) {
   minRowColsMin.val(attrs.minRowColsMin);
 }
});

player.on('editableChanged', function(editableObj){
 if(editableObj.editable) {
   alert($('input[name="author"]').val());
   $('input[name="author"]').val('author');
   document.body.appendChild(document.createTextNode('author '));
 } else {
 $('input[name="author"]').val('learner');
   document.body.appendChild(document.createTextNode('learner '));
 }
});

player.watchBodyHeight();
player.startListening();
</script>
<script src="versal.js"></script>

</body>

</html>
